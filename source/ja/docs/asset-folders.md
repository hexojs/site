---
title: アセットフォルダ
---
## グローバルアセットフォルダ

アセットとは、`source`フォルダ内の投稿以外のファイルです。例えば、画像、CSS、JavaScriptファイルなどがこれにあたります。Hexoプロジェクトで数枚の画像を使用するだけの場合、`source/images`ディレクトリに保管するのが最も簡単な方法です。それから、`![](/images/image.jpg)`のようにしてアクセスできます。

## 投稿アセットフォルダ

定期的に画像やその他のアセットを提供する予定のユーザーや、投稿ごとにアセットを分けたいと考えるユーザーのために、Hexoはもっと整理された方法でアセットを管理する方法を提供します。これは少し複雑ですが、非常に便利なアセット管理方法で、`_config.yml`の`post_asset_folder`設定をtrueに設定することで有効にできます。

``` yaml _config.yml
post_asset_folder: true
```

アセットフォルダ管理を有効にすると、`hexo new [layout] <title>`コマンドで新しい投稿を作成するたびに、Hexoはその投稿に関連付けられたマークダウンファイルと同じ名前のフォルダを作成します。投稿に関連するすべてのアセットを関連フォルダに配置すると、相対パスを使用してそれらを参照できるようになり、より簡単で便利なワークフローを実現できます。

## 相対パス参照用のタグプラグイン

通常のマークダウン構文と相対パスを使用して画像やその他のアセットを参照すると、アーカイブページやインデックスページで正しく表示されないことがあります。コミュニティによってHexo 2でこの問題に対処するプラグインが作成されました。しかし、Hexo 3のリリースにより、投稿内でアセットをより簡単に参照できるいくつかの新しい[タグプラグイン](tag-plugins#アセットを含める)がコアに追加されました。

```
{% asset_path slug %}
{% asset_img slug [title] %}
{% asset_link slug [title] %}
```

例えば、投稿アセットフォルダが有効な状態で、画像`example.jpg`をアセットフォルダに配置した場合、通常の`![](example.jpg)`マークダウン構文を使用して相対パスで参照しても、インデックスページには表示されません（しかし、投稿自体では期待通りに機能します）。

したがって、画像を参照する正しい方法は、マークダウンではなくタグプラグインの構文を使用することです:

```
{% asset_img example.jpg This is an example image %}
{% asset_img "spaced asset.jpg" "spaced title" %}
```

この方法を使用すると、画像は投稿内だけでなくインデックスページやアーカイブページにも表示されます。

## マークダウンを使用した画像の埋め込み

[hexo-renderer-marked](https://github.com/hexojs/hexo-renderer-marked) 3.1.0は、`asset_img`タグプラグインを使用せずにマークダウンで画像を埋め込むことを可能にする新しいオプションを導入しました。

有効にするには:

``` yml _config.yml
post_asset_folder: true
marked:
  prependRoot: true
  postAsset: true
```

有効にすると、アセット画像は自動的に対応する投稿のパスに解決されます。例えば、"image.jpg"が"/2020/01/02/foo/image.jpg"に位置している場合、これは"/2020/01/02/foo/"投稿のアセット画像であることを意味し、`![](image.jpg)`は`<img src="/2020/01/02/foo/image.jpg">`としてレンダリングされます。
